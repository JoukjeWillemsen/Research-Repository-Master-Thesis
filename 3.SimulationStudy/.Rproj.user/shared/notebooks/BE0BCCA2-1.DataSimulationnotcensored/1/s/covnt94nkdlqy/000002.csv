"0","TimeUntilMortality <- function(shapeparameter = 1.94,scaleparameter,treatmenteffect = 3,allocation,sdrandomeffectpatient = 0,sdrandomeffectcluster, Tmax = 548, pcont = 0.5, N = 300)"
"0","  "
"0","  {"
"0","Data <- as.data.frame(c(rep.int(0, pcont*N), rep.int(1, (1-pcont)*N)))"
"0","colnames(Data)<-""allocation"""
"0","#Generate random effect patient"
"0","Data$randomeffectpatient <- Data %>% nrow() %>% rnorm(mean = 0, sd = sdrandomeffectpatient)"
"0","#Generate random effect cluster"
"0","Data$randomeffectcluster <- rnorm(1, mean = 0, sd = sdrandomeffectcluster)"
"0","Data$TUM <- Data %>% #time until mortality"
"0","               nrow() %>% "
"0","               rweibull(shapeparameter,scaleparameter*exp(-(Data$allocation*treatmenteffect+"
"0","                 Data$randomeffectpatient+Data$randomeffectcluster)/shapeparameter))"
"0","#censoring indicator"
"0","Data$censoring <- ifelse(Data$TUM>Tmax, yes = 1, no = 0)"
"0","Data$survivalcensored <- ifelse(Data$TUM>Tmax, yes = Tmax, no = Data$TUM)"
"0","#Status indicator"
"0","Data$StatusIndicator <- ifelse(Data$TUM>Tmax, yes=0, no = 1) "
"0","return(Data)"
"0","}"
